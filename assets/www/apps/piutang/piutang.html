<div class="app-body-inner"><div class="row-col row-col-xs b-b"><div class="col-sm-5 col-md-5 light bg b-r"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="col-sm-12 col-md-12"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari customer" ng-model="customerSearch" ng-enter="customerListLoad()"> <span ng-show="customerLoading" class="input-group-addon no-border no-bg"><i class="fa fa-spinner fa-spin"></i></span></div></div></div></div><div class="row-row"><div class="row-body scrollable hover" scrolly="customerListMoreCall()"><div class="row-inner"><div class="list inset"><div class="list-item pointer b-b" ng-class="{'white': (customerUxidSelected == '')}" ng-click="customerClearSelect()"><div class="list-body">SEMUA DATA <small class="block text-muted">Piutang customer</small></div></div><div ng-repeat="customer in customers track by $index" class="list-item pointer b-b" ng-class="{'white': customer.selected }" ng-click="customerSelect(customer)"><div class="list-body">{{ customer.customer_realname }} <span ng-hide="!customer.customer_company">[ {{ customer.customer_company }} ]</span> <small class="block text-muted"><i class="fa fa-phone m-r-sm"></i>{{ customer.customer_phone }}</small></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="customerEmpty"></div></div></div></div></div></div><div class="col-sm-7 col-md-7 white bg b-r"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="col-sm-9 col-md-9"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="piutangSearch" ng-enter="piutangListLoad()"></div></div><div class="col-sm-3 col-md-3"><div class="btn-group pull-right m-l-xs"><button ng-show="customerUxidSelected" ng-click="piutangCreate()" title="Tambah Piutang" type="button" class="btn primary"><i class="fa fa-plus"></i></button></div><div class="btn-group pull-right"><button ng-show="piutangLoading" type="button" class="btn white"><i class="fa fa-spinner fa-spin"></i></button></div></div></div></div><div class="row-row"><div class="row-body scrollable" scrolly="piutangListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="piutang in piutangs track by $index" class="list-item b-b" ng-click="piutangSelect(piutang)"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-6 col-md-6"><div class="row m-l-xs"><strong>{{piutang.piutang_date_start}} - <span ng-class="{'text-danger': (piutang.piutang_saldo>0)}">{{piutang.piutang_date_expired}}</span></strong></div></div><div class="col-sm-6 col-md-6"><div ng-show="login_detail.login_rights_delete=='1' || piutang.piutang_saldo>0 || piutang.piutang_bayar>0" class="row text-right"><button md-ink-ripple data-toggle="dropdown" class="md-btn md-flat md-btn-circle"><i class="material-icons">&#xe5d4;</i></button><div class="dropdown-menu dropdown-menu-scale pull-right pull-up"><a ng-show="piutang.piutang_saldo>0" class="dropdown-item" href ng-click="bayarCreate(piutang)">Bayar Piutang</a> <a ng-show="piutang.piutang_bayar>0" class="dropdown-item" href ng-click="bayarList(piutang.piutang_uxid)">Data Pembayaran</a> <a ng-show="login_detail.login_rights_delete=='1'" class="dropdown-item" href ng-click="piutangDelete(piutang)">Hapus</a></div></div></div></div><div class="row"><div class="col-sm-6 col-md-6"><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-user m-r-sm"></i>{{ piutang.piutang_operator_username }}</small></div><div class="row m-l-xs"><span ng-show="piutang.piutang_reference_uxid"><small class="text-muted"><a href ui-sref="app.sell.open({uxid: piutang.piutang_reference_uxid})"><i class="fa fa-link m-r-sm"></i>{{ piutang.piutang_reference_uxid }}</a></small></span> <span ng-hide="piutang.piutang_reference_uxid"><small class="text-muted"><i class="fa fa-bookmark m-r-sm"></i>{{ piutang.piutang_uxid }}</small></span></div></div><div class="col-sm-6 col-md-6"><div class="row text-right m-r-xs">{{ piutang.piutang_nilai | number }} - {{ piutang.piutang_bayar | number }}</div><div class="row text-right m-r-xs"><span ng-show="piutang.piutang_saldo>0"><strong>{{ piutang.piutang_saldo | number }}</strong></span> <span ng-hide="piutang.piutang_saldo>0"><strong>LUNAS</strong></span></div></div></div><div class="row"><div class="col-sm-12 col-md-12"><div class="row m-l-xs"><span ng-show="piutang.piutang_detail"><small class="text-muted"><i class="fa fa-info-circle m-r-sm"></i>{{ piutang.piutang_detail }}</small></span></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="piutangEmpty">Tidak ada data</div></div></div></div><div class="p-a b-t b-t"><div class="row"><div class="col-sm-4 col-md-4"><div class="row m-l-xs"><strong>TOTAL PIUTANG</strong></div></div><div class="col-sm-4 col-md-4"><div class="row m-l-xs text-center text-danger"></div></div><div class="col-sm-4 col-md-4"><div class="row m-r-xs text-right"><strong>{{ total_saldo |number }}</strong></div></div></div></div></div></div></div></div><div ng-show="piutangCreateForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Tambah Piutang</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Tanggal (dd/mm/yyyy)</label><div class="col-sm-8"><input ng-disabled="login_detail.login_rights_date_edit=='0'" type="text" class="form-control" ng-model="piutangCreateObj.piutang_date_start" ui-date></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Tempo (hari)</label><div class="col-sm-8"><input type="text" class="form-control" ng-model="piutangCreateObj.piutang_tempo_day" currency-input></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Customer</label><div class="col-sm-8"><span class="form-control">{{piutangCreateObj.piutang_customer_realname}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Keterangan</label><div class="col-sm-8"><input type="text" class="form-control" ng-model="piutangCreateObj.piutang_detail"></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Nilai Piutang</label><div class="col-sm-8"><input type="text" class="form-control" ng-model="piutangCreateObj.piutang_nilai" currency-input focus-me="piutangCreateForm" ng-enter="piutangSave()"></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Diambil Dari</label><div class="col-sm-8"><p ng-repeat="cashbox in cashboxs"><label class="md-check"><input type="radio" name="optionCashboxSelected" ng-model="$parent.optionCashboxSelected" ng-value="cashbox"> <i class="teal no-icon"></i> {{cashbox.cashbox_name}}</label></p></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="piutangCreateForm = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="piutangSave()"><span ng-show="piutangSaveLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="piutangDeleteConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Yakin hapus piutang ?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="piutangDeleteConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="piutangDeleteYes()"><span ng-show="piutangDeleteLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div><div ng-show="bayarCreateForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Bayar Piutang</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Tanggal (dd/mm/yyyy)</label><div class="col-sm-8"><input ng-disabled="login_detail.login_rights_date_edit=='0'" type="text" class="form-control" ng-model="bayarObjCreate.bayar_date" ui-date></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Customer</label><div class="col-sm-8"><span class="form-control">{{bayarObjCreate.bayar_piutang_customer_realname}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Sisa Piutang</label><div class="col-sm-8"><span class="form-control">{{bayarObjCreate.bayar_piutang_saldo}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Nilai Pembayaran</label><div class="col-sm-8"><input type="text" class="form-control" ng-model="bayarObjCreate.bayar_nilai" currency-input focus-me="bayarCreateForm" ng-enter="bayarSave()"></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Simpan Ke</label><div class="col-sm-8"><p ng-repeat="cashbox in cashboxs"><label class="md-check"><input type="radio" name="optionCashboxSelected" ng-model="$parent.optionCashboxSelected" ng-value="cashbox"> <i class="teal no-icon"></i> {{cashbox.cashbox_name}}</label></p></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="bayarCreateForm = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="bayarSave()"><span ng-show="bayarSaveLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="bayarListForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Data Pembayaran</h5></div><div class="modal-body p-t-0 p-l-0 p-r-0 p-b-0 scrollable hover" style="min-height:{{windowHeight()}}px;max-height:{{windowHeight()}}px"><div class="app-body-inner"><div class="row-col row-col-xs"><div class="col-sm-12 col-md-12 light bg"><div class="row-col"><div class="row-row"><div class="row-body scrollable" scrolly="bayarListMore()"><div class="row-inner"><div class="list inset"><div ng-repeat="bayar in bayars track by $index" class="list-item b-b" ng-click="bayarSelect(bayar)"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-6 col-md-6"><div class="row m-l-xs"><strong>{{bayar.bayar_date}}</strong></div></div><div class="col-sm-6 col-md-6"><div ng-show="login_detail.login_rights_delete=='1'" class="row text-right"><button md-ink-ripple data-toggle="dropdown" class="md-btn md-flat md-btn-circle"><i class="material-icons">&#xe5d4;</i></button><div class="dropdown-menu dropdown-menu-scale pull-right pull-up"><a class="dropdown-item" href ng-click="bayarDelete(bayar)">Hapus</a></div></div></div></div><div class="row"><div class="col-sm-6 col-md-6"><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-user m-r-sm"></i>{{ bayar.bayar_operator_username }}</small></div></div><div class="col-sm-6 col-md-6"><div class="row text-right m-r-xs"><strong>{{ bayar.bayar_nilai | number }}</strong></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="bayarEmpty && bayarLoading"><i class="fa fa-spinner fa-spin"></i> Loading</div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="bayarListForm=false">TUTUP</button></div></div></div></div><div ng-show="bayarDeleteConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Yakin hapus pembayaran ?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="bayarDeleteConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="bayarDeleteYes()"><span ng-show="bayarDeleteLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div>