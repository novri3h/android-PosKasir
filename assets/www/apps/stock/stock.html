<div class="app-body-inner"><div class="row-col row-col-xs b-b"><div class="col-sm-3 col-md-3 w w-auto-sm b-r light"><div class="row-col"><div class="row-row"><div class="row-body scrollable hover" scrolly="categoryListMoreCall()"><div class="row-inner"><div class="nav nav-pills nav-stacked"><a class="nav-link b-r-0 b-b" ng-class="{'white': (categoryNameSelected == '')}" ng-click="categoryClearSelect()">SEMUA PRODUK</a> <a ng-repeat="category in categorys track by $index" ng-dblclick="categoryEdit(category)" class="nav-link hover-anchor b-r-0 b-b" ng-class="{'white': category.selected}" ng-click="categorySelect(category)"><span class="block">{{ category.category_name }}</span></a></div></div></div></div><div class="p-a b-t text-center"></div></div></div><div class="col-sm-9 col-md-9 white bg b-r"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="col-sm-9 col-md-9"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="productSearch" ng-enter="productListLoad()"></div></div><div class="col-sm-3 col-md-3"><div class="btn-group pull-right"><button ng-show="productLoading" type="button" class="btn white"><i class="fa fa-spinner fa-spin"></i></button></div></div></div></div><div class="row-row"><div class="row-body scrollable" scrolly="productListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="product in products track by $index" class="list-item b-b" ng-click="productSelect(product)"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-10 col-md-10"><div class="row m-l-xs">{{ product.product_name }}</div></div><div class="col-sm-2 col-md-2"><div class="row text-right"><button md-ink-ripple data-toggle="dropdown" class="md-btn md-flat md-btn-circle"><i class="material-icons">&#xe5d4;</i></button><div class="dropdown-menu dropdown-menu-scale pull-right pull-up"><a class="dropdown-item" href ng-click="stockPlus(product)">Tambah Stok</a> <a class="dropdown-item" href ng-click="stockMinus(product)">Kurangi Stok</a><div class="dropdown-divider"></div><a class="dropdown-item" href ng-click="stockHistory(product)">Riwayat Stok</a></div></div></div></div><div class="row"><div class="col-sm-10 col-md-10"><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-plus-square m-r-sm"></i>{{ product.product_stock_in | number }}</small></div><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-minus-square m-r-sm"></i>{{ product.product_stock_out | number }}</small></div></div><div class="col-sm-2 col-md-2"><div class="row text-right m-r-xs"><strong>{{ product.product_stock_amount | number }}</strong></div><div class="row text-right m-r-xs"><small class="text-muted" ng-show="product.product_type == 'BARANG'">{{ product.product_unit }}</small></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="productEmpty">Kosong</div></div></div></div><div class="p-a b-t text-center"></div></div></div></div></div><div ng-show="stockFormPlus" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Tambah Stok</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Tanggal (dd/mm/yyyy)</label><div class="col-sm-8"><input ng-disabled="login_detail.login_rights_date_edit=='0'" type="text" class="form-control" ng-model="stockObjPlus.stock_date" ui-date></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Nama Produk</label><div class="col-sm-8"><span class="form-control">{{stockObjPlus.product_name}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Kode Produk</label><div class="col-sm-8"><span class="form-control">{{stockObjPlus.product_code}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Satuan</label><div class="col-sm-8"><span class="form-control">{{stockObjPlus.product_unit}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Jumlah</label><div class="col-sm-8"><input type="text" class="form-control" ng-model="stockObjPlus.stock_value" currency-input focus-me="stockFormPlus" ng-enter="stockPlusSave()"></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="stockFormPlus = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="stockPlusSave()"><span ng-show="stockPlusLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="stockFormMinus" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Kurangi Stok</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Tanggal (dd/mm/yyyy)</label><div class="col-sm-8"><input ng-disabled="login_detail.login_rights_date_edit=='0'" type="text" class="form-control" ng-model="stockObjMinus.stock_date" ui-date></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Nama Produk</label><div class="col-sm-8"><span class="form-control">{{stockObjMinus.product_name}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Kode Produk</label><div class="col-sm-8"><span class="form-control">{{stockObjMinus.product_code}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Satuan</label><div class="col-sm-8"><span class="form-control">{{stockObjMinus.product_unit}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Jumlah</label><div class="col-sm-8"><input type="text" class="form-control" ng-model="stockObjMinus.stock_value" currency-input focus-me="stockFormMinus" ng-enter="stockMinusSave()"></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="stockFormMinus = false">BATAL</button> <button type="button" class="btn danger p-x-md" ng-click="stockMinusSave()"><span ng-show="stockMinusLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="stockHistoryForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fa fa-cubes"></i> Riwayat stok {{product.product_name}}</h5></div><div class="modal-body p-t-0 p-l-0 p-r-0 p-b-0 scrollable hover" style="min-height:{{windowHeight()}}px;max-height:{{windowHeight()}}px"><div class="app-body-inner"><div class="row-col row-col-xs"><div class="col-sm-12 col-md-12 light bg"><div class="row-col"><div class="row-row"><div class="row-body scrollable" scrolly="stockHistoryMore()"><div class="row-inner"><div class="list inset"><div ng-repeat="cart in carts track by $index" class="list-item b-b" ng-click="cartSelect(cart)"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-12 col-md-12"><div class="row m-l-xs"><strong>{{cart.cart_date}}</strong></div></div></div><div class="row"><div class="col-sm-6 col-md-6"><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-user m-r-sm"></i>{{ cart.cart_operator_username }}</small></div><div class="row m-l-xs"><span ng-show="cart.cart_type=='SELL'"><small class="text-muted"><i class="fa fa-link m-r-sm"></i><a href ui-sref="app.sell.open({uxid: cart.cart_transaction_uxid})">{{cart.cart_type}} <span ng-show="cart.cart_transaction_uxid">- {{ cart.cart_transaction_uxid }}</span></a></small></span> <span ng-show="cart.cart_type=='PLUS' || cart.cart_type=='MINUS'"><small class="text-muted"><i class="fa fa-bookmark m-r-sm"></i>{{cart.cart_type}} <span ng-show="cart.cart_transaction_uxid">- {{ cart.cart_transaction_uxid }}</span></small></span></div></div><div class="col-sm-6 col-md-6"><div class="row text-right m-r-xs"><span ng-show="cart.cart_type=='SELL' || cart.cart_type=='RBUY' || cart.cart_type=='MINUS'" class="text-danger"><i class="fa fa-minus-square"></i> <strong>{{ cart.cart_amount | number }}</strong></span> <span ng-show="cart.cart_type=='BUY' || cart.cart_type=='RSELL' || cart.cart_type=='PLUS'"><i class="fa fa-plus-square"></i> <strong>{{ cart.cart_amount | number }}</strong></span></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="carts.length==0 && cartLoading"><i class="fa fa-spinner fa-spin"></i> Loading</div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="stockHistoryForm=false">TUTUP</button></div></div></div></div>