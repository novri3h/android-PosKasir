<div class="app-body-inner"><div class="row-col row-col-xs b-b"><div class="col-sm-12 col-md-12 white bg b-r"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="col-sm-9 col-md-9"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="discountSearchText" ng-enter="discountListLoad()"></div></div><div class="col-sm-3 col-md-3"><div class="btn-group pull-right m-l-xs"><button ng-click="productSelectFormOpen()" type="button" class="btn primary"><i class="fa fa-plus"></i></button></div><div class="btn-group pull-right"><button ng-show="discountLoading" type="button" class="btn white"><i class="fa fa-spinner fa-spin"></i></button></div></div></div></div><div class="row-row"><div class="row-body scrollable" scrolly="discountListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="discount in discounts track by $index" class="list-item b-b"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-10 col-md-10"><div class="row m-l-xs">{{ discount.discount_product_name }}</div></div><div class="col-sm-2 col-md-2"><div class="row text-right"><button md-ink-ripple data-toggle="dropdown" class="md-btn md-flat md-btn-circle"><i class="material-icons">&#xe5d4;</i></button><div class="dropdown-menu dropdown-menu-scale pull-right pull-up"><a class="dropdown-item" href ng-click="discountEdit(discount)">Edit</a> <a ng-show="login_detail.login_rights_delete=='1'" class="dropdown-item" href ng-click="discountDelete(discount)">Hapus</a></div></div></div></div><div class="row"><div class="col-sm-9 col-md-9"><div class="row m-l-xs"><span ng-show="discount.discount_value<100"><small class="text-muted">Jika pembelian oleh customer lebih besar atau sama dengan <strong>{{ discount.discount_amount | number }}</strong> {{ discount.discount_product_unit}} maka nilai diskon <strong>{{ discount.discount_value | number }} %</strong> per {{ discount.discount_product_unit}}</small></span> <span ng-hide="discount.discount_value<100"><small class="text-muted">Jika pembelian oleh customer lebih besar atau sama dengan <strong>{{ discount.discount_amount | number }}</strong> {{ discount.discount_product_unit}} maka nilai diskon <strong>{{ discount.discount_value | number }}</strong> per {{ discount.discount_product_unit}}</small></span></div></div><div class="col-sm-3 col-md-3"><div class="row text-right m-r-xs"><strong>{{ discount.discount_product_price | number }}</strong></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="discountEmpty">Tidak ada paket diskon</div></div></div></div><div class="p-a b-t text-center"></div></div></div></div></div><div ng-show="productSelectForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fa fa-cube"></i> DATA PRODUK</h5></div><div class="modal-body p-t-0 p-l-0 p-r-0 p-b-0 scrollable hover" style="min-height:{{windowHeight()}}px;max-height:{{windowHeight()}}px"><div class="app-body-inner"><div class="row-col row-col-xs"><div class="col-sm-3 col-md-3 w w-auto-sm b-r light"><div class="row-col"><div class="row-row"><div class="row-body scrollable hover" scrolly="categoryListMore()"><div class="row-inner"><div class="nav nav-pills nav-stacked"><a class="nav-link b-r-0 b-b" ng-class="{'white': (categoryNameSelected == '')}" ng-click="categoryClearSelect()">SEMUA PRODUK</a> <a ng-repeat="category in categorys track by $index" ng-dblclick="categoryEdit(category)" class="nav-link hover-anchor b-r-0 b-b" ng-class="{'white': category.selected}" ng-click="categorySelect(category)"><span class="block">{{ category.category_name ? category.category_name : 'Untitled' }}</span></a></div><div class="text-center pos-abt w-full" style="top:30%" ng-show="categoryLoading"><i class="fa fa-spinner fa-spin"></i> loading...</div></div></div></div></div></div><div class="col-sm-9 col-md-9 white bg"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="productSearch" ng-enter="productListLoad()"></div></div></div><div class="row-row"><div class="row-body scrollable" scrolly="productListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="product in products track by $index" class="list-item b-b" ng-click="productSelect(product)"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-12 col-md-12"><div class="row m-l-xs">{{ product.product_name }}</div></div></div><div class="row"><div class="col-sm-8 col-md-8"><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-barcode m-r-sm"></i>{{ product.product_code }}</small></div><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-cubes m-r-sm"></i><span ng-show="product.product_type == 'BARANG'">{{ product.product_stock_amount | number }}</span> {{ product.product_unit }}</small></div></div><div class="col-sm-4 col-md-4"><div class="row text-right m-r-xs"><strong>{{ product.product_sale_price | number }}</strong></div><div class="row text-right m-r-xs"><button class="md-btn md-flat" ng-click="discountNew(product)"><i class="fa fa-hand-o-right"></i> SET DISKON</button></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="productEmpty">Kosong</div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="productSelectForm=false">TUTUP</button></div></div></div></div><div ng-show="discountNewForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Tambah Paket Diskon</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Nama Produk</label><div class="col-sm-8"><span class="form-control">{{discountNewObj.discount_product_name}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Kode Produk</label><div class="col-sm-8"><span class="form-control">{{discountNewObj.discount_product_code}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Unit Produk</label><div class="col-sm-8"><span class="form-control">{{discountNewObj.discount_product_unit}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Harga Dasar</label><div class="col-sm-8"><span class="form-control">{{discountNewObj.discount_product_base_price | number}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Harga Jual</label><div class="col-sm-8"><span class="form-control">{{discountNewObj.discount_product_sale_price | number}}</span></div></div><div class="form-group row"><label class="col-sm-9 form-control-label">Jika pembelian oleh customer lebih besar atau sama dengan</label><div class="col-sm-3"><input type="text" class="form-control" ng-model="discountNewObj.discount_amount" currency-input focus-me="discountNewForm"></div></div><div class="form-group row"><label class="col-sm-9 form-control-label">Maka nilai diskon (Persen/Nilai Rupiah)</label><div class="col-sm-3"><input type="text" class="form-control" ng-model="discountNewObj.discount_value" currency-input ng-enter="discountNewSave()"></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Harga Setelah Diskon</label><div class="col-sm-8"><span class="form-control">{{discountNewObj.discount_product_price | number}}</span></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="discountNewForm = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="discountNewSave()"><span ng-show="discountNewLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="discountEditForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Edit Paket Diskon</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Nama Produk</label><div class="col-sm-8"><span class="form-control">{{discountEditObj.discount_product_name}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Kode Produk</label><div class="col-sm-8"><span class="form-control">{{discountEditObj.discount_product_code}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Unit Produk</label><div class="col-sm-8"><span class="form-control">{{discountEditObj.discount_product_unit}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Harga Dasar</label><div class="col-sm-8"><span class="form-control">{{discountEditObj.discount_product_base_price | number}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Harga Jual</label><div class="col-sm-8"><span class="form-control">{{discountEditObj.discount_product_sale_price | number}}</span></div></div><div class="form-group row"><label class="col-sm-9 form-control-label">Jika pembelian oleh customer lebih besar atau sama dengan</label><div class="col-sm-3"><input type="text" class="form-control" ng-model="discountEditObj.discount_amount" currency-input focus-me="discountEditForm"></div></div><div class="form-group row"><label class="col-sm-9 form-control-label">Maka nilai diskon (Persen/Nilai Rupiah)</label><div class="col-sm-3"><input type="text" class="form-control" ng-model="discountEditObj.discount_value" currency-input ng-enter="discountEditSave()"></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Harga Setelah Diskon</label><div class="col-sm-8"><span class="form-control">{{discountEditObj.discount_product_price | number}}</span></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="discountEditForm = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="discountEditSave()"><span ng-show="discountEditLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="discountDeleteConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Yakin hapus paket diskon {{discountDeleteObj.discount_product_name}} ?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="discountDeleteConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="discountDeleteYes()"><span ng-show="discountDeleteLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div>