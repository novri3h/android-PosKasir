<div ng-show="loadComplete" class="padding"><div class="row-col p-b-sm"><div class="btn-group pull-right"><button ng-hide="transaction.transaction_status == 'OK' && login_detail.login_rights_edit=='0'" type="button" class="btn btn-outline b-a" ng-click="customerSelectFormOpen()" title="Pilih Customer"><i class="fa fa-user"></i></button> <button ng-hide="transaction.transaction_status == 'OK'" type="button" class="btn btn-outline b-a" ng-click="productSelectFormOpen()" title="Pilih Produk"><i class="fa fa-shopping-cart"></i></button> <button ng-hide="transaction.transaction_status == 'OK'" type="button" class="btn btn-outline b-a" ng-click="payTunai()" title="Simpan"><i class="fa fa-save"></i></button><div class="btn-group dropdown"><button type="button" class="btn btn-outline b-a" data-toggle="dropdown" title="Print"><i class="fa fa-print"></i></button><ul class="dropdown-menu animated fadeIn pull-right"><li class="dropdown-item pointer" ng-click="transactionPrintBT(transaction)"><a href>Print Struk</a></li><li class="dropdown-item pointer" ng-click="printDiv('printNota')"><a href>Print Nota</a></li></ul></div><div class="btn-group dropdown"><button type="button" class="btn btn-outline b-a" data-toggle="dropdown"><i class="fa fa-bars"></i></button><ul class="dropdown-menu animated fadeIn pull-right"><li class="dropdown-item pointer" ng-click="transactionOkFormOpen()"><a href>Data Transaksi</a></li></ul></div><button ng-hide="transaction.transaction_status == 'OK'" title="Batal" ng-click="transactionCancel()" type="button" class="btn btn-outline b-a"><i class="fa fa-times"></i></button> <button ng-show="transaction.transaction_status == 'OK'" title="Tutup" ng-click="transactionClose()" type="button" class="btn btn-outline b-a"><i class="fa fa-times"></i></button></div></div><div class="row-col"><div class="col-sm-4 col-md-4"><div class="input-group m-b"><span class="input-group-addon b-r-0"><i class="fa fa-barcode"></i></span> <input id="txBarcode" ng-disabled="transaction.transaction_status == 'OK'" type="text" class="form-control" ng-model="barcodeTx" ng-enter="cartAddBarcode()"></div></div><div class="col-sm-4 col-md-4 text-center p-t-sm"><span ng-show="transactionLoading"><i class="fa fa-spinner fa-spin"></i></span></div><div class="col-sm-4 col-md-4"><div class="btn-group pull-right"><div class="input-group m-b"><span class="input-group-addon b-r-0"><i class="fa fa-calendar"></i></span> <input ng-disabled="transaction.transaction_status == 'OK' || login_detail.login_rights_date_edit=='0'" type="text" onkeydown="return false" class="form-control text-right" ng-model="transaction.transaction_date" data-filter="datetime"></div></div></div></div><div class="table-responsive"><table class="table"><tbody><tr><td class="text-left p-l-xs p-t-xs p-b-xs" style="width: 90px"><strong>Customer</strong></td><td class="text-center p-l-0 p-r-0 p-t-xs p-b-xs" style="width: 2px"><strong>:</strong></td><td class="text-left p-l-xs p-t-xs p-b-xs">{{transaction.transaction_customer_realname}}<span ng-hide="transaction.transaction_status == 'OK'"><span title="Hapus Customer" ng-click="customerClearSave()" ng-hide="!transaction.transaction_customer_realname" class="m-l-sm text-danger pointer"><i class="fa fa-times"></i></span></span></td><td class="text-right p-r-xs p-t-xs p-b-xs"><strong>Nomor</strong></td><td class="text-center p-l-0 p-r-0 p-t-xs p-b-xs" style="width: 2px"><strong>:</strong></td><td class="text-right p-r-xs p-t-xs p-b-xs" style="width: 160px">#{{transaction.transaction_number}}</td></tr><tr><td class="text-left p-l-xs p-t-xs p-b-xs" style="width: 90px"><strong>Operator</strong></td><td class="text-center p-l-0 p-r-0 p-t-xs p-b-xs" style="width: 2px"><strong>:</strong></td><td class="text-left p-l-xs p-t-xs p-b-xs"><span ng-show="transaction.transaction_status == 'OK'">{{transaction.transaction_operator_username}}</span><span ng-hide="transaction.transaction_status == 'OK'">{{login_detail.login_operator_username}}</span></td><td class="text-right p-r-xs p-t-xs p-b-xs"><strong>ID</strong></td><td class="text-center p-l-0 p-r-0 p-t-xs p-b-xs" style="width: 2px"><strong>:</strong></td><td class="text-right p-r-xs p-t-xs p-b-xs" style="width: 160px">{{transaction.transaction_uxid}}</td></tr></tbody></table></div><div class="table-responsive"><table class="table table-striped white b-a"><thead><tr><th style="width: 60px">JML</th><th>NAMA PRODUK</th><th class="text-right" style="width: 100px">HARGA</th><th class="text-right" style="width: 120px">TOTAL</th><th style="width: 5px"></th></tr></thead><tbody><tr ng-repeat="cart in carts track by $index"><td class="text-right">{{cart.cart_amount | number}}</td><td>{{cart.cart_product_name}} <span ng-show="cart.cart_note.length">- {{cart.cart_note}}</span></td><td class="text-right">{{cart.cart_product_sale_price | number}}</td><td class="text-right">{{cart.cart_sale_value | number}}</td><td class="p-a-0"><div ng-hide="transaction.transaction_status == 'OK'" class="btn-group dropdown pull-right"><button type="button" class="btn btn-outline" data-toggle="dropdown" title="Opsi"><i class="fa fa-bars"></i></button><ul class="dropdown-menu animated fadeIn pull-right"><li class="dropdown-item pointer" ng-click="cartEdit(cart)"><a href>Edit</a></li><li class="dropdown-item pointer" ng-click="cartDelete(cart)"><a href>Hapus</a></li></ul></div></td></tr><tr ng-show="(transaction.transaction_shipping_cost>0) || (transaction.transaction_tax_value>0)"><td colspan="3" class="text-right"><strong>Subtotal</strong></td><td class="text-right">{{transaction.transaction_value | number}}</td><td></td></tr><tr ng-show="transaction.transaction_shipping_cost>0"><td colspan="3" class="text-right no-border"><strong>Biaya Pengiriman</strong></td><td class="text-right">{{transaction.transaction_shipping_cost | number}}</td><td class="p-a-0"><div ng-hide="transaction.transaction_status == 'OK'" class="btn-group dropdown pull-right"><button type="button" class="btn btn-outline" data-toggle="dropdown" title="Opsi"><i class="fa fa-bars"></i></button><ul class="dropdown-menu animated fadeIn pull-right"><li class="dropdown-item pointer" ng-click="shippingEdit(transaction)"><a href>Edit</a></li><li class="dropdown-item pointer" ng-click="shippingDelete(transaction)"><a href>Hapus</a></li></ul></div></td></tr><tr ng-show="transaction.transaction_tax_value>0"><td colspan="3" class="text-right no-border"><strong>Pajak {{formatNumber(transaction.transaction_tax_percent)}} %</strong></td><td class="text-right">{{transaction.transaction_tax_value | number}}</td><td class="p-a-0"><div ng-hide="transaction.transaction_status == 'OK'" class="btn-group dropdown pull-right"><button type="button" class="btn btn-outline" data-toggle="dropdown" title="Opsi"><i class="fa fa-bars"></i></button><ul class="dropdown-menu animated fadeIn pull-right"><li class="dropdown-item pointer" ng-click="taxEdit(transaction)"><a href>Edit</a></li><li class="dropdown-item pointer" ng-click="taxDelete(transaction)"><a href>Hapus</a></li></ul></div></td></tr><tr><td colspan="3" class="text-right no-border"><strong>Total</strong></td><td class="text-right"><strong>{{transaction.transaction_total | number}}</strong></td><td></td></tr></tbody></table></div></div><div style="display:none" id="printNota"><table><tbody><tr><td colspan="6" class="col-info-title" style="padding:0px">{{login_detail.login_store_name}}</td></tr><tr><td colspan="6" style="text-align:center">{{login_detail.login_store_address}}</td></tr><tr><td colspan="6" style="text-align:center">{{login_detail.login_store_phone}}</td></tr><tr><td colspan="6" class="col-info-title">RETUR PENJUALAN</td></tr><tr><td class="col-info-1">Customer</td><td class="col-info-2">:</td><td class="col-info-3">{{transaction.transaction_customer_realname}}</td><td class="col-info-4">ID</td><td class="col-info-5">:</td><td class="col-info-6">{{transaction.transaction_uxid}}</td></tr><tr><td class="col-info-1">Telepon</td><td class="col-info-2">:</td><td class="col-info-3">{{transaction.transaction_customer_phone}}</td><td class="col-info-4">Nomor</td><td class="col-info-5">:</td><td class="col-info-6">#{{transaction.transaction_number}}</td></tr><tr><td class="col-info-1">Kasir</td><td class="col-info-2">:</td><td class="col-info-3">{{transaction.transaction_operator_username}}</td><td class="col-info-4">Tanggal</td><td class="col-info-5">:</td><td class="col-info-6">{{transaction.transaction_date}}</td></tr></tbody></table><div class="line-space"></div><table class="border"><thead><tr><th>No</th><th>Kode</th><th>Nama Produk</th><th>Jml</th><th>Harga</th><th>Total</th></tr></thead><tbody><tr ng-repeat="cart in carts track by $index"><td class="col-product-no">{{$index+1}}</td><td class="col-product-code">{{cart.cart_product_code}}</td><td class="col-product-name">{{cart.cart_product_name}} {{cart.cart_note}}</td><td class="col-product-amount">{{cart.cart_amount | number}} {{cart.cart_product_unit}}</td><td class="col-product-price">{{cart.cart_product_sale_price | number}}</td><td class="col-product-total">{{cart.cart_sale_value | number}}</td></tr><tr><td></td><td class="col-product-name" colspan="4"><strong>Total</strong></td><td class="col-product-total"><strong>{{transaction.transaction_total | number}}</strong></td></tr></tbody></table><div class="line-space"></div><table><tbody><tr><td class="col-note-label">Catatan</td><td class="col-note-dot">:</td><td class="col-note-content"></td></tr></tbody></table><div class="line-space"></div><table><tbody><tr><td class="col-ttd-left col-ttd-title"></td><td width="30%" class="col-ttd-center col-ttd-title"></td><td width="30%" class="col-ttd-center col-ttd-title"></td><td width="30%" class="col-ttd-center col-ttd-title">Mengetahui,</td><td class="col-ttd-right col-ttd-title"></td></tr><tr><td class="col-ttd-left col-ttd-signature"></td><td class="col-ttd-center col-ttd-signature"></td><td class="col-ttd-center col-ttd-signature"></td><td class="col-ttd-center col-ttd-signature"></td><td class="col-ttd-right col-ttd-signature"></td></tr><tr><td class="col-ttd-left"></td><td width="30%" class="col-ttd-center"></td><td width="30%" class="col-ttd-center"></td><td width="30%" class="col-ttd-center">( _ _ _ _ _ _ _ _ _ _ _ _ )</td><td class="col-ttd-right"></td></tr></tbody></table></div><div style="display:none" id="printStruk"><table width="100%"><tbody><tr><td colspan="2" style="text-align:center">{{login_detail.login_store_name}}</td></tr><tr><td colspan="2" style="text-align:center">{{login_detail.login_store_address}}</td></tr><tr><td colspan="2" style="text-align:center">{{login_detail.login_store_phone}}</td></tr><tr><td style="text-align:left">ID</td><td style="text-align:right">{{transaction.transaction_uxid}}</td></tr><tr><td style="text-align:left">Tanggal</td><td style="text-align:right">{{transaction.transaction_date}}</td></tr></tbody></table><table width="100%"><tbody><tr><td style="text-align:center">============================</td></tr></tbody></table><table width="100%" ng-repeat="cart in carts track by $index"><tbody><tr><td colspan="2">{{cart.cart_product_name}} {{cart.cart_note}}</td></tr><tr><td>{{cart.cart_amount | number}} {{cart.cart_product_unit}} X {{cart.cart_product_sale_price | number}}</td><td style="text-align:right">{{cart.cart_sale_value | number}}</td></tr></tbody></table><table width="100%"><tbody><tr><td style="text-align:center">============================</td></tr></tbody></table><table width="100%"><tbody><tr><td>TOTAL</td><td style="text-align:right">{{transaction.transaction_total | number}}</td></tr></tbody></table><table width="100%"><tbody><tr><td style="text-align:center">============================</td></tr></tbody></table></div><div ng-show="productSelectForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fa fa-cube"></i> DATA PRODUK</h5></div><div class="modal-body p-t-0 p-l-0 p-r-0 p-b-0 scrollable hover" style="min-height:{{windowHeight()}}px;max-height:{{windowHeight()}}px"><div class="app-body-inner"><div class="row-col row-col-xs"><div class="col-sm-3 col-md-3 w w-auto-sm b-r light"><div class="row-col"><div class="row-row"><div class="row-body scrollable hover" scrolly="categoryListMore()"><div class="row-inner"><div class="nav nav-pills nav-stacked"><a class="nav-link b-r-0 b-b" ng-class="{'white': (categoryNameSelected == '')}" ng-click="categoryClearSelect()">SEMUA PRODUK</a> <a ng-repeat="category in categorys track by $index" ng-dblclick="categoryEdit(category)" class="nav-link hover-anchor b-r-0 b-b" ng-class="{'white': category.selected}" ng-click="categorySelect(category)"><span class="block">{{ category.category_name ? category.category_name : 'Untitled' }}</span></a></div><div class="text-center pos-abt w-full" style="top:30%" ng-show="categoryLoading"><i class="fa fa-spinner fa-spin"></i> loading...</div></div></div></div></div></div><div class="col-sm-9 col-md-9 white bg"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="productSearch" ng-enter="productListLoad()"></div></div></div><div class="row-row"><div class="row-body scrollable" scrolly="productListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="product in products track by $index" class="list-item b-b" ng-click="productSelect(product)"><div class="row"><div class="col-sm-12 col-md-12"><div class="row"><div class="col-sm-12 col-md-12"><div class="row m-l-xs">{{ product.product_name }}</div></div></div><div class="row"><div class="col-sm-10 col-md-10"><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-barcode m-r-sm"></i>{{ product.product_code }}</small></div><div class="row m-l-xs"><small class="text-muted"><i class="fa fa-cubes m-r-sm"></i><span ng-show="product.product_type == 'BARANG'">{{ product.product_stock_amount | number }}</span> {{ product.product_unit }}</small></div></div><div class="col-sm-2 col-md-2"><div class="row text-right m-r-xs"><strong>{{ product.product_sale_price | number }}</strong></div><div class="row text-right m-r-xs"><button class="md-btn md-flat" ng-click="cartAddProduct(product)" title="Masukan Ke Keranjang Belanja"><i class="fa fa-hand-o-right"></i> <i class="fa fa-shopping-cart"></i></button></div></div></div></div></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="productEmpty">Kosong</div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="productSelectForm=false">TUTUP</button></div></div></div></div><div ng-show="customerSelectForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fa fa-users"></i> DATA CUSTOMER</h5></div><div class="modal-body p-t-0 p-l-0 p-r-0 p-b-0 scrollable hover" style="min-height:{{windowHeight()}}px;max-height:{{windowHeight()}}px"><div class="app-body-inner"><div class="row-col row-col-xs"><div class="col-sm-5 col-md-5 light bg b-r"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="col-sm-10 col-md-10"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="customerSearch" ng-enter="customerListLoad()"> <span ng-show="customerLoading" class="input-group-addon no-border no-bg"><i class="fa fa-spinner fa-spin"></i></span></div></div><div class="col-sm-2 col-md-2"><button title="Tambah Customer" type="button" class="btn primary pull-right" ng-click="customerCreate()"><i class="fa fa-fw fa-plus text-muted"></i></button></div></div></div><div class="row-row"><div class="row-body scrollable hover" scrolly="customerListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="customer in customers track by $index" class="list-item pointer b-b" ng-class="{'white': customer.selected }" ng-click="customerSelect(customer)"><div class="list-body">{{ customer.customer_realname }} <span ng-hide="!customer.customer_company">[ {{ customer.customer_company }} ]</span> <small class="block text-muted"><i class="fa fa-phone m-r-sm"></i>{{ customer.customer_phone }}</small></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="customerEmpty">Kosong</div></div></div></div></div></div><div class="col-sm-7 col-md-7"><div ng-show="customer" class="row-col"><div class="p-a-sm"><div ng-hide="customerEmpty"><a class="btn btn-sm success pull-right" ng-click="customerSetSave(customer)">PILIH CUSTOMER <i class="fa fa-hand-o-right"></i> <i class="fa fa-user"></i></a> <a ng-show="login_detail.login_rights_edit=='1'" class="btn btn-sm warn" ng-click="customerEdit(customer)">Edit</a></div></div><div class="row-row"><div class="row-body"><div class="row-inner"><div class="padding" ng-hide="customerEmpty"><div class="row-col h-auto m-b-lg"><div class="col-sm-12 v-m h2 _300"><div>{{customer.customer_realname}}</div></div></div><div class="form-horizontal"><div class="form-group row" ng-hide="!customer.customer_phone"><label class="col-sm-3 form-control-label">Telepon</label><div class="col-sm-9"><p class="form-control-static">{{customer.customer_phone}}</p></div></div><div class="form-group row" ng-hide="!customer.customer_email"><label class="col-sm-3 form-control-label">Email</label><div class="col-sm-9"><p class="form-control-static">{{customer.customer_email}}</p></div></div><div class="form-group row" ng-hide="!customer.customer_company"><label class="col-sm-3 form-control-label">Perusahaan</label><div class="col-sm-9"><p class="form-control-static">{{customer.customer_company}}</p></div></div><div class="form-group row" ng-hide="!customer.customer_address1"><label class="col-sm-3 form-control-label">Alamat</label><div class="col-sm-9"><p class="form-control-static">{{customer.customer_address1}}</p><p class="form-control-static">{{customer.customer_address2}}</p><p class="form-control-static">{{customer.customer_address3}}</p><p class="form-control-static">{{customer.customer_address4}}</p><p class="form-control-static">{{customer.customer_address5}}</p></div></div></div></div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="customerSelectForm=false">TUTUP</button></div></div></div></div><div ng-show="customerFormNew" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Tambah Customer</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label for="customerRealame" class="col-sm-3 form-control-label">Nama</label><div class="col-sm-9"><input type="text" class="form-control" id="customerRealame" ng-model="customerObjNew.customer_realname"></div></div><div class="form-group row"><label for="customerCode" class="col-sm-3 form-control-label">Kode</label><div class="col-sm-9"><input type="text" class="form-control" id="customerCode" ng-model="customerObjNew.customer_code"></div></div><div class="form-group row"><label for="customerEmail" class="col-sm-3 form-control-label">Email</label><div class="col-sm-9"><input type="text" class="form-control" id="customerEmail" ng-model="customerObjNew.customer_email"></div></div><div class="form-group row"><label for="customerCompany" class="col-sm-3 form-control-label">Perusahaan</label><div class="col-sm-9"><input type="text" class="form-control" id="customerCompany" ng-model="customerObjNew.customer_company"></div></div><div class="form-group row"><label for="customerPhone" class="col-sm-3 form-control-label">Telepon</label><div class="col-sm-9"><input type="text" class="form-control" id="customerPhone" ng-model="customerObjNew.customer_phone"></div></div><div class="form-group row"><div class="col-sm-3 p-l-0"><label for="customerAddress1" class="form-control-label">Alamat</label></div><div class="col-sm-9"><input type="text" class="form-control" id="customerAddress1" ng-model="customerObjNew.customer_address1"> <input type="text" class="form-control m-t-xs" id="customerAddress2" ng-model="customerObjNew.customer_address2"> <input type="text" class="form-control m-t-xs" id="customerAddress3" ng-model="customerObjNew.customer_address3"> <input type="text" class="form-control m-t-xs" id="customerAddress4" ng-model="customerObjNew.customer_address4"> <input type="text" class="form-control m-t-xs" id="customerAddress5" ng-model="customerObjNew.customer_address5"></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="customerFormNew = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="customerCreateSave()"><span ng-show="customerCreateLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="customerFormEdit" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Edit Customer</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label for="customerRealame" class="col-sm-3 form-control-label">Nama</label><div class="col-sm-9"><input type="text" class="form-control" id="customerRealame" ng-model="customerObjEdit.customer_realname"></div></div><div class="form-group row"><label for="customerCode" class="col-sm-3 form-control-label">Kode</label><div class="col-sm-9"><input type="text" class="form-control" id="customerCode" ng-model="customerObjEdit.customer_code"></div></div><div class="form-group row"><label for="customerEmail" class="col-sm-3 form-control-label">Email</label><div class="col-sm-9"><input type="text" class="form-control" id="customerEmail" ng-model="customerObjEdit.customer_email"></div></div><div class="form-group row"><label for="customerCompany" class="col-sm-3 form-control-label">Perusahaan</label><div class="col-sm-9"><input type="text" class="form-control" id="customerCompany" ng-model="customerObjEdit.customer_company"></div></div><div class="form-group row"><label for="customerPhone" class="col-sm-3 form-control-label">Telepon</label><div class="col-sm-9"><input type="text" class="form-control" id="customerPhone" ng-model="customerObjEdit.customer_phone"></div></div><div class="form-group row"><div class="col-sm-3 p-l-0"><label for="customerAddress1" class="form-control-label">Alamat</label></div><div class="col-sm-9"><input type="text" class="form-control" id="customerAddress1" ng-model="customerObjEdit.customer_address1"> <input type="text" class="form-control m-t-xs" id="customerAddress2" ng-model="customerObjEdit.customer_address2"> <input type="text" class="form-control m-t-xs" id="customerAddress3" ng-model="customerObjEdit.customer_address3"> <input type="text" class="form-control m-t-xs" id="customerAddress4" ng-model="customerObjEdit.customer_address4"> <input type="text" class="form-control m-t-xs" id="customerAddress5" ng-model="customerObjEdit.customer_address5"></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="customerFormEdit = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="customerEditSave()"><span ng-show="customerEditLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="cartEditForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">EDIT RETUR</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-3 form-control-label">Nama Produk</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="cartEditObj.cart_product_name"></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Kode Produk</label><div class="col-sm-9"><span class="form-control">{{cartEditObj.cart_product_code}}</span></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Satuan</label><div class="col-sm-9"><span class="form-control">{{cartEditObj.cart_product_unit}}</span></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Jumlah</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="cartEditObj.cart_amount" currency-input focus-me="cartEditForm" ng-enter="cartEditSave()"></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Harga Satuan</label><div class="col-sm-5"><input type="text" class="form-control" ng-model="cartEditObj.cart_product_sale_price" currency-input></div><div class="col-sm-4"><p ng-repeat="price in prices track by $index"><label class="md-check"><input type="radio" name="cartProductSalePrice2" ng-model="$parent.cartProductSalePrice2" ng-value="price.price_value"> <i class="teal no-icon"></i> {{price.price_name}}</label></p></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Harga Total</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="cartEditObj.cart_sale_value" currency-input></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Keterangan/IMEI</label><div class="col-sm-9"><input type="text" class="form-control" ng-model="cartEditObj.cart_note"></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="cartEditForm = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="cartEditSave()"><span ng-show="cartEditLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="cartDeleteConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Yakin hapus {{cartObjDelete.cart_product_name}} dari daftar retur?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="cartDeleteConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="cartDeleteYes()"><span ng-show="cartDeleteLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div><div ng-show="payTunaiForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Simpan Retur Penjualan</h5></div><div class="modal-body p-lg scrollable hover" style="max-height:{{windowHeight()}}px"><form role="form"><div class="form-group row"><label class="col-sm-4 form-control-label">Tanggal (dd/mm/yyyy)</label><div class="col-sm-8"><input ng-disabled="login_detail.login_rights_date_edit=='0'" type="text" class="form-control" ng-model="payTunaiObj.cash_date_start" ui-date></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Total</label><div class="col-sm-8"><span class="form-control">{{payTunaiObj.cash_total | number}}</span></div></div><div class="form-group row"><label class="col-sm-4 form-control-label">Diambil Dari</label><div class="col-sm-8"><p ng-repeat="cashbox in cashboxs track by $index"><label class="md-check"><input type="radio" name="optionCashboxSelected" ng-model="$parent.optionCashboxSelected" ng-value="cashbox"> <i class="teal no-icon"></i> {{cashbox.cashbox_name}}</label></p></div></div></form></div><div class="modal-footer"><div class="row"><div class="col-sm-6 col-md-6"></div><div class="col-sm-6 col-md-6"><button type="button" class="btn dark-white p-x-md" ng-click="payTunaiForm = false">BATAL</button> <button type="button" class="btn primary p-x-md" ng-click="payTunaiSave()"><span ng-show="payTunaiLoading"><i class="fa fa-spinner fa-spin"></i></span> SIMPAN</button></div></div></div></div></div></div><div ng-show="transactionOkForm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="fa fa-newspaper-o"></i> DATA TRANSAKSI</h5></div><div class="modal-body p-t-0 p-l-0 p-r-0 p-b-0 scrollable hover" style="min-height:{{windowHeight()}}px;max-height:{{windowHeight()}}px"><div class="app-body-inner"><div class="row-col row-col-xs"><div class="col-sm-5 col-md-5 light bg b-r"><div class="row-col"><div class="p-a-xs b-b"><div class="row-col"><div class="col-sm-12 col-md-12"><div class="input-group"><span class="input-group-addon no-border no-bg"><i class="fa fa-search"></i></span> <input type="text" class="form-control no-border no-bg" placeholder="Cari" ng-model="transactionOkSearchTx" ng-enter="transactionOkListLoad()"> <span ng-show="transactionOkLoading" class="input-group-addon no-border no-bg"><i class="fa fa-spinner fa-spin"></i></span></div></div></div></div><div class="row-row"><div class="row-body scrollable hover" scrolly="transactionOkListMoreCall()"><div class="row-inner"><div class="list inset"><div ng-repeat="transactionObj in transactionOkArray track by $index" class="list-item pointer" ng-class="{'white': transactionObj.selected }" ng-click="transactionOkSelect(transactionObj)"><div class="list-body">{{ transactionObj.transaction_number }} [ {{ transactionObj.transaction_uxid }} ] <small class="block text-muted"><i class="fa fa-calendar m-r-sm"></i>{{transactionObj.transaction_date}}</small></div></div></div><div class="text-center pos-abt w-full" style="top:50%" ng-show="transactionOkEmpty">Kosong</div></div></div></div></div></div><div class="col-sm-7 col-md-7"><div ng-show="transactionOkObjSelect" class="row-col"><div class="p-a-sm"><div ng-hide="transactionOkEmpty"><a class="btn btn-sm danger" ng-show="login_detail.login_rights_delete=='1'" ng-click="transactionDelete(transactionOkObjSelect)">HAPUS</a> <a class="btn btn-sm success pull-right" ng-click="transactionOpen(transactionOkObjSelect)">BUKA <i class="fa fa-hand-o-right"></i> <i class="fa fa-folder-open-o"></i></a></div></div><div class="row-row"><div class="row-body"><div class="row-inner"><div class="padding" ng-hide="transactionOkEmpty"><div class="row-col h-auto m-b-lg"><div class="col-sm-12 v-m h2 _300"><div>{{transactionOkObjSelect.transaction_uxid}}</div></div></div><div class="form-horizontal"><div class="form-group row"><label class="col-sm-3 form-control-label">Tanggal</label><div class="col-sm-9"><p class="form-control-static">{{transactionOkObjSelect.transaction_date}}</p></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Nomor</label><div class="col-sm-9"><p class="form-control-static">#{{transactionOkObjSelect.transaction_number}}</p></div></div><div class="form-group row"><label class="col-sm-3 form-control-label">Total</label><div class="col-sm-9"><p class="form-control-static">{{transactionOkObjSelect.transaction_total | number}}</p></div></div><div class="form-group row" ng-hide="!transactionOkObjSelect.transaction_customer_realname"><label class="col-sm-3 form-control-label">Customer</label><div class="col-sm-9"><p class="form-control-static">{{transactionOkObjSelect.transaction_customer_realname}}</p></div></div><div class="form-group row" ng-hide="!transactionOkObjSelect.transaction_customer_company"><label class="col-sm-3 form-control-label">Perusahaan</label><div class="col-sm-9"><p class="form-control-static">{{transactionOkObjSelect.transaction_customer_company}}</p></div></div><div class="form-group row" ng-hide="!transactionOkObjSelect.transaction_customer_phone"><label class="col-sm-3 form-control-label">Telepon</label><div class="col-sm-9"><p class="form-control-static">{{transactionOkObjSelect.transaction_customer_phone}}</p></div></div><div class="form-group row" ng-hide="!transactionOkObjSelect.transaction_customer_email"><label class="col-sm-3 form-control-label">Email</label><div class="col-sm-9"><p class="form-control-static">{{transactionOkObjSelect.transaction_customer_email}}</p></div></div></div></div></div></div></div></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="transactionOkForm=false">TUTUP</button></div></div></div></div><div ng-show="transactionCancelConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Yakin ingin membatalkan transaksi dan menghapus seluruh daftar retur?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="transactionCancelConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="transactionCloseYes()"><span ng-show="transactionCloseLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div><div ng-show="transactionCloseConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Tutup transaksi ini?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="transactionCloseConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="transactionCloseYes()"><span ng-show="transactionCloseLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div><div ng-show="transactionDeleteConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Konfirmasi</h5></div><div class="modal-body text-center p-lg"><p>Yakin hapus transaksi {{transactionObjDelete.transaction_uxid}} dengan nomor #{{transactionObjDelete.transaction_number}}?</p></div><div class="modal-footer"><button type="button" class="btn dark-white p-x-md" ng-click="transactionDeleteConfirm = false">Tidak</button> <button type="button" class="btn danger p-x-md" ng-click="transactionDeleteYes()"><span ng-show="transactionDeleteLoading"><i class="fa fa-spinner fa-spin"></i></span> Ya</button></div></div></div></div><div ng-show="transactionFinishConfirm" class="modal" data-backdrop="true" style="display:block"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">SELESAI</h5></div><div class="modal-body text-center p-lg"><p>Transaksi telah disimpan</p></div><div class="modal-footer"><button type="button" class="btn success p-x-md" ng-click="transactionPrintBT(transaction)">PRINT STRUK</button> <button type="button" class="btn info p-x-md" ng-click="printDiv('printNota')">PRINT NOTA</button> <button type="button" class="btn danger p-x-md" ng-click="transactionCloseYes()"><span ng-show="transactionCloseLoading"><i class="fa fa-spinner fa-spin"></i></span> TUTUP</button></div></div></div></div>