!function(){"use strict";function a(a,b){function c(){var a=new Date,b=a.getFullYear();return a=b}function d(){f.reportLoading=!0,f.chartSellReload=!1,$.ajax({context:b,type:"POST",url:g+"report_year/",dataType:"json",data:{year:f.todayYear},success:function(a){e(a)},complete:function(){f.reportLoading=!1,f.dateOnEdit=!1,f.$apply()},error:function(){f.reportLoading=!1,f.dateOnEdit=!1,f.$apply()}})}function e(a){var b=[],c=[];a.report_sell_chart_points&&(b=a.report_sell_chart_points,angular.forEach(f.chart_year.report_sell_chart_points,function(a,c){var d=_.findIndex(b,function(b){return b[0]==a[0]});if(-1===d){var e=[a[0],"0"];f.chart_year.report_sell_chart_points[c]=e}else f.chart_year.report_sell_chart_points[c]=b[d]})),0==b.length&&angular.forEach(f.chart_year.report_sell_chart_points,function(a,b){var c=[a[0],"0"];f.chart_year.report_sell_chart_points[b]=c}),a.report_rsell_chart_points&&(c=a.report_rsell_chart_points,angular.forEach(f.chart_year.report_rsell_chart_points,function(a,b){var d=_.findIndex(c,function(b){return b[0]==a[0]});if(-1===d){var e=[a[0],"0"];f.chart_year.report_rsell_chart_points[b]=e}else f.chart_year.report_rsell_chart_points[b]=c[d]})),0==c.length&&angular.forEach(f.chart_year.report_rsell_chart_points,function(a,b){var c=[a[0],"0"];f.chart_year.report_rsell_chart_points[b]=c}),f.chartSellReload=!0,a.report_sell_values&&(f.report_sell_values=a.report_sell_values),a.report_sell_profit?f.report_sell_profit=a.report_sell_profit:f.report_sell_profit=0,a.report_sell_total?f.report_sell_total=a.report_sell_total:f.report_sell_total=0,a.report_rsell_values&&(f.report_rsell_values=a.report_rsell_values),a.report_rsell_profit?f.report_rsell_profit=a.report_rsell_profit:f.report_rsell_profit=0,a.report_rsell_total?f.report_rsell_total=a.report_rsell_total:f.report_rsell_total=0,a.report_buy_values&&(f.report_buy_values=a.report_buy_values),a.report_buy_total?f.report_buy_total=a.report_buy_total:f.report_buy_total=0,a.report_rbuy_values&&(f.report_rbuy_values=a.report_rbuy_values),a.report_rbuy_total?f.report_rbuy_total=a.report_rbuy_total:f.report_rbuy_total=0,a.report_cashflows&&(f.report_cashflows=a.report_cashflows),a.report_cashflow_in?f.report_cashflow_in=a.report_cashflow_in:f.report_cashflow_in=0,a.report_cashflow_out?f.report_cashflow_out=a.report_cashflow_out:f.report_cashflow_out=0,a.report_cashflow_value?f.report_cashflow_value=a.report_cashflow_value:f.report_cashflow_value=0,a.report_cashflow_cashin?f.report_cashflow_cashin=a.report_cashflow_cashin:f.report_cashflow_cashin=0,a.report_cashflow_cashout?f.report_cashflow_cashout=a.report_cashflow_cashout:f.report_cashflow_cashout=0,a.report_profit_neto?f.report_profit_neto=a.report_profit_neto:f.report_profit_neto=0,a.report_operator_cashflows&&(f.report_operator_cashflows=a.report_operator_cashflows),a.report_supplier_ratings&&(f.report_supplier_ratings=a.report_supplier_ratings),a.report_customer_ratings&&(f.report_customer_ratings=a.report_customer_ratings),a.report_product_ratings&&(f.report_product_ratings=a.report_product_ratings),a.report_taxs&&(f.report_taxs=a.report_taxs),a.report_tax_total?f.report_tax_total=a.report_tax_total:f.report_tax_total=0,f.transaction_profit=f.report_sell_profit-f.report_rsell_profit,f.transaction_total=f.report_sell_total-f.report_rsell_total,f.$apply()}var f=b,g=a.api.url_report;f.chartSellReload=!1,f.dateOnEdit=!1,f.todayYear=c(),f.$watch("todayYear",function(a,b){(void 0!==a||null!==a)&&b!=a&&f.dateOnEdit&&d()},!0);var h=[["01","Januari"],["02","Februari"],["03","Maret"],["04","April"],["05","Mei"],["06","Juni"],["07","Juli"],["08","Agustus"],["09","September"],["10","Oktober"],["11","Nopember"],["12","Desember"]];f.getMonth=function(a){var b="",c=_.findIndex(h,function(b){return b[0]==a});return c>=0&&(b=h[c][1]),b},f.chart_year={report_sell_chart_points:[["01","0"],["02","0"],["03","0"],["04","0"],["05","0"],["06","0"],["07","0"],["08","0"],["09","0"],["10","0"],["11","0"],["12","0"]],report_rsell_chart_points:[["01","0"],["02","0"],["03","0"],["04","0"],["05","0"],["06","0"],["07","0"],["08","0"],["09","0"],["10","0"],["11","0"],["12","0"]],ticks:[["01","Jan"],["02","Feb"],["03","Mar"],["04","Apr"],["05","Mei"],["06","Jun"],["07","Jul"],["08","Agt"],["09","Sep"],["10","Okt"],["11","Nop"],["12","Des"]]},f.reportLoading=!1,f.report_sell_values=[],f.report_sell_profit=0,f.report_sell_total=0,f.report_rsell_values=[],f.report_rsell_profit=0,f.report_rsell_total=0,f.report_buy_values=[],f.report_buy_total=0,f.report_rbuy_values=[],f.report_rbuy_total=0,f.report_cashflows=[],f.report_cashflow_in=0,f.report_cashflow_out=0,f.report_cashflow_value=0,f.report_cashflow_cashin=0,f.report_cashflow_cashout=0,f.report_profit_neto=0,f.report_operator_cashflows=[],f.report_supplier_ratings=[],f.report_customer_ratings=[],f.report_product_ratings=[],f.report_taxs=[],f.report_tax_total=0,f.transaction_profit=0,f.transaction_total=0,d()}angular.module("app",["datetimepicker"]).controller("ReportyearCtrl",a),a.$inject=["$rootScope","$scope"]}();