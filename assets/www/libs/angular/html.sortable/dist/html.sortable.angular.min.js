!function(a){"use strict";a.module("htmlSortable",[]).directive("htmlSortable",["$timeout","$parse",function(b,c){return{require:"?ngModel",link:function(d,e,f,g){var h,i,j=a.noop;f.htmlSortableCallback&&(j=c(f.htmlSortableCallback)),h=a.extend({},d.$eval(f.htmlSortable)),e.sortable(h),g&&(i=c(f.ngModel),g.$render=function(){b(function(){e.sortable("reload")},50)},d.$watch(i,function(){b(function(){e.sortable("reload")},50)},!0),e.sortable().bind("sortupdate",function(a,b){var e=b.startparent.attr("ng-model"),f=b.endparent.attr("ng-model"),g=c(e),h=c(f),i=b.oldindex,k=b.item.index();d.$apply(function(){if(g(b.startparent.scope())===h(b.endparent.scope())){var a=g(b.startparent.scope());a.splice(k,0,a.splice(i,1)[0]),g.assign(d,a)}else{var c=g(b.startparent.scope())[i],e=g(b.startparent.scope()),f=h(b.endparent.scope())||[];e.splice(i,1),f.splice(k,0,c),g.assign(d,e),h.assign(d,f)}}),j(d,{startModel:g(b.startparent.scope()),destModel:h(b.endparent.scope()),start:i,end:k})}))}}}])}(angular);