String.prototype.splice=function(a,b,c){return this.slice(0,a)+c+this.slice(a+Math.abs(b))},String.prototype.replaceAll=function(a,b){var c=this;return c.replace(new RegExp(a,"g"),b)},function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){A.app.setting.color={primary:k(A.app.setting.theme.primary),accent:k(A.app.setting.theme.accent),warn:k(A.app.setting.theme.warn),chartup:k(A.app.setting.theme.chartup),chartdown:k(A.app.setting.theme.chartdown)}}function k(a){return A.app.color[a]?A.app.color[a]:palette.find(a)}function l(){c.hash("content"),e(),c.hash(""),$("#aside").modal("hide"),$("body").removeClass("modal-open").find(".modal-backdrop").remove(),$(".navbar-toggleable-sm").collapse("hide")}function m(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function n(){return Math.floor((new Date).getTime()/1e3)}function o(a){a=a||"";var b=_.random(100,999);b+="";var c=n();c="M"+c;var d=c.slice(-5),e=_.uniqueId(a);return e+b+d}function p(){var a=new Date,b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear();return 10>b&&(b="0"+b),10>c&&(c="0"+c),a=b+"/"+c+"/"+d}function q(){A.cashboxs=[],A.cashflowObjPlus.cashflow_date=p(),A.cashflowObjPlus.cashflow_detail="Pemasukan ",A.cashflowObjPlus.cashflow_value="",A.cashflowLoading=!0,$.ajax({context:a,type:"GET",url:z.api.url_cashflow+"cashbox_list/",dataType:"json",success:function(a){a.cashboxs&&(a.cashboxs.forEach(function(a){if(A.cashboxs.length){var b=_.findIndex(A.cashboxs,function(b){return b.cashbox_uxid==a.cashbox_uxid});-1===b?A.cashboxs.push(a):A.cashboxs[b]=a}else A.cashboxs.push(a)}),A.optionCashboxSelected=A.cashboxs[0],A.cashflowObjPlus.cashflow_cashbox_uxid=A.optionCashboxSelected.cashbox_uxid,A.cashinForm=!0),A.$apply()},complete:function(){A.cashflowLoading=!1,A.$apply()},error:function(){A.cashflowLoading=!1,A.$apply()}})}function r(){A.cashinForm=!1}function s(){A.cashflowObjPlus.cashflow_token=A.cashin_token,A.cashflowObjPlus.cashflow_cashbox_uxid=A.optionCashboxSelected.cashbox_uxid,A.cashflowObjPlus.cashflow_cashbox_name=A.optionCashboxSelected.cashbox_name,A.cashinSaveLoading=!0,$.ajax({context:a,type:"POST",url:z.api.url_cashflow+"cashin_save/",dataType:"json",data:A.cashflowObjPlus,success:function(a){a.message&&(a.status?"OK"==a.status?h.pop("success","Info",a.message):h.pop("error","Error",a.message):h.pop("info","Message",a.message),A.$apply()),a.status&&"OK"==a.status&&(A.cashin_token=o("CFL_in"),r(),A.$apply())},complete:function(){A.cashinSaveLoading=!1,A.$apply()},error:function(){A.cashinSaveLoading=!1,A.$apply()}})}function t(){A.cashboxs=[],A.cashflowObjMinus.cashflow_date=p(),A.cashflowObjMinus.cashflow_detail="Pengeluaran ",A.cashflowObjMinus.cashflow_value="",A.cashflowLoading=!0,$.ajax({context:a,type:"GET",url:z.api.url_cashflow+"cashbox_list/",dataType:"json",success:function(a){a.cashboxs&&(a.cashboxs.forEach(function(a){if(A.cashboxs.length){var b=_.findIndex(A.cashboxs,function(b){return b.cashbox_uxid==a.cashbox_uxid});-1===b?A.cashboxs.push(a):A.cashboxs[b]=a}else A.cashboxs.push(a)}),A.optionCashboxSelected=A.cashboxs[0],A.cashflowObjMinus.cashflow_cashbox_uxid=A.optionCashboxSelected.cashbox_uxid,A.cashoutForm=!0),A.$apply()},complete:function(){A.cashflowLoading=!1,A.$apply()},error:function(){A.cashflowLoading=!1,A.$apply()}})}function u(){A.cashoutForm=!1}function v(){A.cashflowObjMinus.cashflow_token=A.cashout_token,A.cashflowObjMinus.cashflow_cashbox_uxid=A.optionCashboxSelected.cashbox_uxid,A.cashflowObjMinus.cashflow_cashbox_name=A.optionCashboxSelected.cashbox_name,A.cashoutSaveLoading=!0,$.ajax({context:a,type:"POST",url:z.api.url_cashflow+"cashout_save/",dataType:"json",data:A.cashflowObjMinus,success:function(a){a.message&&(a.status?"OK"==a.status?h.pop("success","Info",a.message):h.pop("error","Error",a.message):h.pop("info","Message",a.message),A.$apply()),a.status&&"OK"==a.status&&(A.cashout_token=o("CFL_out"),u(),A.$apply())},complete:function(){A.cashoutSaveLoading=!1,A.$apply()},error:function(){A.cashoutSaveLoading=!1,A.$apply()}})}function w(){A.cashboxs=[],A.cashflowObjShipping.cashflow_date=p(),A.cashflowObjShipping.cashflow_detail="Pengeluaran biaya pengiriman",A.cashflowObjShipping.cashflow_value="",A.cashflowLoading=!0,$.ajax({context:a,type:"GET",url:z.api.url_cashflow+"cashbox_list/",dataType:"json",success:function(a){a.cashboxs&&(a.cashboxs.forEach(function(a){if(A.cashboxs.length){var b=_.findIndex(A.cashboxs,function(b){return b.cashbox_uxid==a.cashbox_uxid});-1===b?A.cashboxs.push(a):A.cashboxs[b]=a}else A.cashboxs.push(a)}),A.optionCashboxSelected=A.cashboxs[0],A.cashflowObjShipping.cashflow_cashbox_uxid=A.optionCashboxSelected.cashbox_uxid,A.cashshippingForm=!0),A.$apply()},complete:function(){A.cashflowLoading=!1,A.$apply()},error:function(){A.cashflowLoading=!1,A.$apply()}})}function x(){A.cashshippingForm=!1}function y(){A.cashflowObjShipping.cashflow_token=A.cashshipping_token,A.cashflowObjShipping.cashflow_cashbox_uxid=A.optionCashboxSelected.cashbox_uxid,A.cashflowObjShipping.cashflow_cashbox_name=A.optionCashboxSelected.cashbox_name,A.cashshippingSaveLoading=!0,$.ajax({context:a,type:"POST",url:z.api.url_cashflow+"cashshipping_save/",dataType:"json",data:A.cashflowObjShipping,success:function(a){a.message&&(a.status?"OK"==a.status?h.pop("success","Info",a.message):h.pop("error","Error",a.message):h.pop("info","Message",a.message),A.$apply()),a.status&&"OK"==a.status&&(A.cashshipping_token=o("CFL_shipping"),x(),A.$apply())},complete:function(){A.cashshippingSaveLoading=!1,A.$apply()},error:function(){A.cashshippingSaveLoading=!1,A.$apply()}})}var z=d,A=a,B="/";z.api={url_account:B+"account/",url_account_image_host:"www/images/account/",url_operator:B+"operator/",url_product:B+"product/",url_product_image_host:B+"images/product/",url_customer:B+"customer/",url_supplier:B+"supplier/",url_transaction:B+"transaction/",url_transaction_sell:B+"sell/",url_transaction_buy:B+"buy/",url_transaction_rsell:B+"rsell/",url_transaction_rbuy:B+"rbuy/",url_cashflow:B+"cashflow/",url_piutang:B+"piutang/",url_hutang:B+"hutang/",url_report:B+"report/",url_billing:B+"billing/",url_excel:B+"excel/"},A.app={name:"KasirToko",developer:"GentaTekno",version:"1.0.0",color:{primary:"#0cc2aa",accent:"#718eac",warn:"#fcc100",info:"#6887ff",success:"#6cc788",warning:"#f77a99",danger:"#f44455",white:"#ffffff",light:"#f1f2f3",dark:"#2e3e4e",black:"#2a2b3c",chartup:"#718eac",chartdown:"#fcc100"},setting:{theme:{primary:"primary",accent:"accent",warn:"warn",chartup:"chartup",chartdown:"chartdown"},folded:!1,boxed:!0,container:!1,themeID:1,bg:""}};var C=A.app.name+"-"+A.app.version+"-Setting";angular.isDefined(b[C])?A.app.setting=b[C]:b[C]=A.app.setting,A.$watch("app.setting",function(){b[C]=A.app.setting},!0),m("bg")&&(A.app.setting.bg=m("bg")),j(),d.$on("$stateChangeSuccess",l),A.goBack=function(){g.history.back()},A.windowHeight=function(){var a=$(window).height(),b=a/4,c=a-b;return c-80},A.cashboxs=[],A.optionCashboxSelected={cashbox_uxid:"",cashbox_name:""},A.cashboxSelect=function(a){A.optionCashboxSelected=a},A.cashin_token=o("CFL_in"),angular.isDefined(b.cashin_token)?A.cashin_token=b.cashin_token:b.cashin_token=A.cashin_token,A.$watch("cashin_token",function(){b.cashin_token=A.cashin_token},!0),A.cashflowObjPlus={cashflow_date:"",cashflow_cashbox_uxid:"",cashflow_cashbox_name:"",cashflow_detail:"",cashflow_value:"",cashflow_token:""},A.cashinForm=!1,A.cashin=q,A.cashinCancel=r,A.cashinSaveLoading=!1,A.cashinSave=s,A.cashout_token=o("CFL_out"),angular.isDefined(b.cashout_token)?A.cashout_token=b.cashout_token:b.cashout_token=A.cashout_token,A.$watch("cashout_token",function(){b.cashout_token=A.cashout_token},!0),A.cashflowObjMinus={cashflow_date:"",cashflow_cashbox_uxid:"",cashflow_cashbox_name:"",cashflow_detail:"",cashflow_value:"",cashflow_token:""},A.cashoutForm=!1,A.cashout=t,A.cashoutCancel=u,A.cashoutSaveLoading=!1,A.cashoutSave=v,A.cashshipping_token=o("CFL_shipping"),angular.isDefined(b.cashshipping_token)?A.cashshipping_token=b.cashshipping_token:b.cashshipping_token=A.cashshipping_token,A.$watch("cashshipping_token",function(){b.cashshipping_token=A.cashshipping_token},!0),A.cashflowObjShipping={cashflow_date:"",cashflow_cashbox_uxid:"",cashflow_cashbox_name:"",cashflow_detail:"",cashflow_value:"",cashflow_token:""},A.cashshippingForm=!1,A.cashshipping=w,A.cashshippingCancel=x,A.cashshippingSaveLoading=!1,A.cashshippingSave=y,A.fullScreenToggle=function(){void 0!==window.screenfull&&screenfull.enabled&&(screenfull.toggle(window.document[0]),$("body").toggleClass("fullScreen"))},A.accountLogoutConfirm=!1,A.accountLogout=function(a){A.accountLogoutConfirm=!0},A.accountLogoutLoading=!1,A.accountLogoutYes=function(){A.accountLogoutLoading=!0,$.ajax({context:a,type:"GET",url:z.api.url_account+"logout/",dataType:"json",success:function(a){a.status&&"OK"==a.status&&(A.accountLogoutConfirm=!1,A.$apply(),i.go("account.login"))},complete:function(){A.accountLogoutLoading=!1,A.$apply()},error:function(){A.accountLogoutLoading=!1,A.$apply()}})},A.accountLogoutNo=function(){A.accountLogoutConfirm=!1,A.$apply()},A.loading=!1,A.menuClick=function(){$('<div class="backdrop" ></div>').appendTo(document.body),setTimeout(function(){$(".backdrop").remove()},500)}}angular.module("app").controller("AppCtrl",a),a.$inject=["$scope","$localStorage","$location","$rootScope","$anchorScroll","$timeout","$window","toaster","$state"]}();