"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ng-currency"),angular.module("ng-currency",[]).directive("ngCurrency",["$filter","$locale",function(a,b){return{require:"ngModel",scope:{min:"=min",max:"=max",currencySymbol:"@",ngRequired:"=ngRequired",fraction:"=fraction"},link:function(c,d,e,f){function g(a){return RegExp("\\d|\\-|\\"+a,"g")}function h(a){return RegExp("\\-{0,1}((\\"+a+")|([0-9]{1,}\\"+a+"?))&?[0-9]{0,"+l+"}","g")}function i(d){d=String(d);var e=b.NUMBER_FORMATS.DECIMAL_SEP,f=null,i=a("currency")("-1",j(),c.fraction),k=i.indexOf("1"),l=i.substring(0,k);return d=d.replace(l,"-"),RegExp("^-[\\s]*$","g").test(d)&&(d="-0"),g(e).test(d)&&(f=d.match(g(e)).join("").match(h(e)),f=f?f[0].replace(e,"."):null),f}function j(){return angular.isDefined(c.currencySymbol)?c.currencySymbol:b.NUMBER_FORMATS.CURRENCY_SYM}function k(){for(var a=f.$formatters,b=a.length,c=f.$$rawModelValue;b--;)c=a[b](c);f.$setViewValue(c),f.$render()}if("false"!==e.ngCurrency){var l="undefined"!=typeof c.fraction?c.fraction:2;f.$parsers.push(function(a){var b=i(a);return("."==b||"-."==b)&&(b=".0"),parseFloat(b)}),d.on("blur",function(){f.$commitViewValue(),k()}),f.$formatters.unshift(function(b){return a("currency")(b,j(),c.fraction)}),f.$validators.min=function(a){return!c.ngRequired&&isNaN(a)?!0:"undefined"!=typeof c.min?a>=parseFloat(c.min):!0},f.$validators.max=function(a){return!c.ngRequired&&isNaN(a)?!0:"undefined"!=typeof c.max?a<=parseFloat(c.max):!0},f.$validators.fraction=function(a){return a&&isNaN(a)?!1:!0}}}}}]);